module.exports=[41458,(t,e,n)=>{"use strict";var r=t.e&&t.e.__spreadArray||function(t,e,n){if(n||2==arguments.length)for(var r,u=0,i=e.length;u<i;u++)!r&&u in e||(r||(r=Array.prototype.slice.call(e,0,u)),r[u]=e[u]);return t.concat(r||Array.prototype.slice.call(e))};function u(t){return t}function i(t){return function(){return t}}function o(t,e,n,r,u,i,o,a,c){switch(arguments.length){case 1:return t;case 2:return function(){return e(t.apply(this,arguments))};case 3:return function(){return n(e(t.apply(this,arguments)))};case 4:return function(){return r(n(e(t.apply(this,arguments))))};case 5:return function(){return u(r(n(e(t.apply(this,arguments)))))};case 6:return function(){return i(u(r(n(e(t.apply(this,arguments))))))};case 7:return function(){return o(i(u(r(n(e(t.apply(this,arguments)))))))};case 8:return function(){return a(o(i(u(r(n(e(t.apply(this,arguments))))))))};case 9:return function(){return c(a(o(i(u(r(n(e(t.apply(this,arguments)))))))))}}}function a(t){throw Error("Called `absurd` function which should be uncallable")}Object.defineProperty(n,"__esModule",{value:!0}),n.dual=n.getEndomorphismMonoid=n.SK=n.hole=n.constVoid=n.constUndefined=n.constNull=n.constFalse=n.constTrue=n.unsafeCoerce=n.apply=n.getRing=n.getSemiring=n.getMonoid=n.getSemigroup=n.getBooleanAlgebra=void 0,n.identity=u,n.constant=i,n.flip=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e.length>1?t(e[1],e[0]):function(n){return t(n)(e[0])}}},n.flow=o,n.tuple=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t},n.increment=function(t){return t+1},n.decrement=function(t){return t-1},n.absurd=a,n.tupled=function(t){return function(e){return t.apply(void 0,e)}},n.untupled=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t(e)}},n.pipe=function(t,e,n,r,u,i,o,a,c){switch(arguments.length){case 1:return t;case 2:return e(t);case 3:return n(e(t));case 4:return r(n(e(t)));case 5:return u(r(n(e(t))));case 6:return i(u(r(n(e(t)))));case 7:return o(i(u(r(n(e(t))))));case 8:return a(o(i(u(r(n(e(t)))))));case 9:return c(a(o(i(u(r(n(e(t))))))));default:for(var s=arguments[0],f=1;f<arguments.length;f++)s=arguments[f](s);return s}},n.not=function(t){return function(e){return!t(e)}},n.getBooleanAlgebra=function(t){return function(){return{meet:function(e,n){return function(r){return t.meet(e(r),n(r))}},join:function(e,n){return function(r){return t.join(e(r),n(r))}},zero:function(){return t.zero},one:function(){return t.one},implies:function(e,n){return function(r){return t.implies(e(r),n(r))}},not:function(e){return function(n){return t.not(e(n))}}}}},n.getSemigroup=function(t){return function(){return{concat:function(e,n){return function(r){return t.concat(e(r),n(r))}}}}},n.getMonoid=function(t){var e=(0,n.getSemigroup)(t);return function(){return{concat:e().concat,empty:function(){return t.empty}}}},n.getSemiring=function(t){return{add:function(e,n){return function(r){return t.add(e(r),n(r))}},zero:function(){return t.zero},mul:function(e,n){return function(r){return t.mul(e(r),n(r))}},one:function(){return t.one}}},n.getRing=function(t){var e=(0,n.getSemiring)(t);return{add:e.add,mul:e.mul,one:e.one,zero:e.zero,sub:function(e,n){return function(r){return t.sub(e(r),n(r))}}}},n.apply=function(t){return function(e){return e(t)}},n.unsafeCoerce=u,n.constTrue=i(!0),n.constFalse=i(!1),n.constNull=i(null),n.constUndefined=i(void 0),n.constVoid=n.constUndefined,n.hole=a,n.SK=function(t,e){return e},n.getEndomorphismMonoid=function(){return{concat:function(t,e){return o(t,e)},empty:u}},n.dual=function(t,e){var n="number"==typeof t?function(e){return e.length>=t}:t;return function(){var t=Array.from(arguments);return n(arguments)?e.apply(this,t):function(n){return e.apply(void 0,r([n],t,!1))}}}},66680,(t,e,n)=>{e.exports=t.x("node:crypto",()=>require("node:crypto"))},27837,t=>{"use strict";let e,n,r,u;var i,o,a,c,s,f=function(t,e,n){if(n||2==arguments.length)for(var r,u=0,i=e.length;u<i;u++)!r&&u in e||(r||(r=Array.prototype.slice.call(e,0,u)),r[u]=e[u]);return t.concat(r||Array.prototype.slice.call(e))};function l(t){return t}function p(t,e,n,r,u,i,o,a,c){switch(arguments.length){case 1:return t;case 2:return function(){return e(t.apply(this,arguments))};case 3:return function(){return n(e(t.apply(this,arguments)))};case 4:return function(){return r(n(e(t.apply(this,arguments))))};case 5:return function(){return u(r(n(e(t.apply(this,arguments)))))};case 6:return function(){return i(u(r(n(e(t.apply(this,arguments))))))};case 7:return function(){return o(i(u(r(n(e(t.apply(this,arguments)))))))};case 8:return function(){return a(o(i(u(r(n(e(t.apply(this,arguments))))))))};case 9:return function(){return c(a(o(i(u(r(n(e(t.apply(this,arguments)))))))))}}}function h(t,e,n,r,u,i,o,a,c){switch(arguments.length){case 1:return t;case 2:return e(t);case 3:return n(e(t));case 4:return r(n(e(t)));case 5:return u(r(n(e(t))));case 6:return i(u(r(n(e(t)))));case 7:return o(i(u(r(n(e(t))))));case 8:return a(o(i(u(r(n(e(t)))))));case 9:return c(a(o(i(u(r(n(e(t))))))));default:for(var s=arguments[0],f=1;f<arguments.length;f++)s=arguments[f](s);return s}}var d=function(t,e){var n="number"==typeof t?function(e){return e.length>=t}:t;return function(){var t=Array.from(arguments);return n(arguments)?e.apply(this,t):function(n){return e.apply(void 0,f([n],t,!1))}}},g=function(t){return"None"===t._tag},y=function(t){return"Left"===t._tag},v=function(t){return{_tag:"Left",left:t}},m=function(t){return{_tag:"Right",right:t}},b=function(t){return t.length>0},w=function(t){return t[0]},E=[];Object.prototype.hasOwnProperty;var R=function(t){return function(e,n){return function(){for(var r=[],u=0;u<arguments.length;u++)r[u]=arguments[u];var i=e.apply(void 0,r);return t.fromEither(null==i?v(n.apply(void 0,r)):m(i))}}},_=function(t){return function(e,n){return function(){for(var r=[],u=0;u<arguments.length;u++)r[u]=arguments[u];var i=e.apply(void 0,r);return t.fromEither(g(i)?v(n.apply(void 0,r)):m(i.value))}}};function x(t){return function(e){return{concat:function(n,r){return t.ap(t.map(n,function(t){return function(n){return e.concat(t,n)}}),r)}}}}function I(t){return function(e,n){return t.map(e,function(){return n})}}function S(t){var e=I(t);return function(t){return e(t,void 0)}}function O(t){var e=x(t);return function(n){return{concat:e(n).concat,empty:t.of(n.empty)}}}function k(t){return function(e,n){return t.chain(e,function(e){return t.map(n(e),function(){return e})})}}var U=function(t,e){for(var n=e(t);"Left"===n._tag;)n=e(n.left);return n.right};function j(t){return function(e){return function(n){return t.fromEither(g(n)?v(e()):m(n.value))}}}function P(t){var e=j(t);return function(t){var n=e(t);return function(t){return p(t,n)}}}function A(t,e){var n,r=(n=t,function(t){return p(t,n.fromEither)}),u=k(e);return function(t,e){return u(t,r(e))}}var N=function(t,e){return{left:t,right:e}},M=d(2,function(t,e){return tN(t)?t:e(t.right)}),T=function(t,e){return h(t,te(e))},W=function(t,e){return h(t,tc(e))},$=function(t,e,n){return h(t,th(e,n))},L=function(t){return function(e,n){return h(e,td(t)(n))}},q=function(t,e,n){return h(t,tg(e,n))},C=function(t){var e=tv(t);return function(t,n){return h(t,e(n))}},D=function(t,e,n){return h(t,tw(e,n))},F=function(t,e){return h(t,tE(e))},B=function(t,e){return h(t,tx(e))},J=function(t,e){return h(t,tS(e))},K=function(t,e){return U(e(t),function(t){return tN(t)?m(v(t.left)):tN(t.right)?v(e(t.right.left)):m(m(t.right.right))})},V="Either",z=function(t,e){return{show:function(n){return tN(n)?"left(".concat(t.show(n.left),")"):"right(".concat(e.show(n.right),")")}}},G=function(t,e){return{equals:function(n,r){return n===r||(tN(n)?tN(r)&&t.equals(n.left,r.left):tM(r)&&e.equals(n.right,r.right))}}},H=function(t){return{concat:function(e,n){return tN(n)?e:tN(e)?n:m(t.concat(e.right,n.right))}}},Q=function(t){var e=v(t.empty);return{URI:V,_E:void 0,compact:function(t){return tN(t)?t:"None"===t.right._tag?e:m(t.right.value)},separate:function(t){return tN(t)?N(t,t):tN(t.right)?N(m(t.right.left),e):N(e,m(t.right.right))}}},X=function(t){var e=v(t.empty),n=Q(t);return{URI:V,_E:void 0,map:T,compact:n.compact,separate:n.separate,filter:function(t,n){return tN(t)||n(t.right)?t:e},filterMap:function(t,n){if(tN(t))return t;var r=n(t.right);return"None"===r._tag?e:m(r.value)},partition:function(t,n){return tN(t)?N(t,t):n(t.right)?N(e,m(t.right)):N(m(t.right),e)},partitionMap:function(t,n){if(tN(t))return N(t,t);var r=n(t.right);return tN(r)?N(m(r.left),e):N(e,m(r.right))}}},Y=function(t){var e=X(t),n=Q(t);return{URI:V,_E:void 0,map:T,compact:e.compact,separate:e.separate,filter:e.filter,filterMap:e.filterMap,partition:e.partition,partitionMap:e.partitionMap,traverse:C,sequence:tm,reduce:$,foldMap:L,reduceRight:q,wither:function(t){var e=tb.traverse(t);return function(r,u){return t.map(e(r,u),n.compact)}},wilt:function(t){var e=tb.traverse(t);return function(r,u){return t.map(e(r,u),n.separate)}}}},Z=function(t){return{URI:V,_E:void 0,map:T,ap:function(e,n){return tN(e)?tN(n)?v(t.concat(e.left,n.left)):e:tN(n)?n:m(e.right(n.right))},of:ti}},tt=function(t){return{URI:V,_E:void 0,map:T,alt:function(e,n){if(tM(e))return e;var r=n();return tN(r)?v(t.concat(e.left,r.left)):r}}},te=function(t){return function(e){return tN(e)?e:m(t(e.right))}},tn={URI:V,map:T},tr=d(2,I(tn)),tu=S(tn),ti=m,to={URI:V,of:ti},ta=function(t){return function(e){return tN(e)?e:tN(t)?t:m(e.right(t.right))}},tc=ta,ts={URI:V,map:T,ap:W},tf={URI:V,map:T,ap:W,of:ti},tl={URI:V,map:T,ap:W,chain:M},tp={URI:V,map:T,ap:W,of:ti,chain:M},th=function(t,e){return function(n){return tN(n)?t:e(t,n.right)}},td=function(t){return function(e){return function(n){return tN(n)?t.empty:e(n.right)}}},tg=function(t,e){return function(n){return tN(n)?t:e(n.right,t)}},ty={URI:V,reduce:$,foldMap:L,reduceRight:q},tv=function(t){return function(e){return function(n){return tN(n)?t.of(v(n.left)):t.map(e(n.right),m)}}},tm=function(t){return function(e){return tN(e)?t.of(v(e.left)):t.map(e.right,m)}},tb={URI:V,map:T,reduce:$,foldMap:L,reduceRight:q,traverse:C,sequence:tm},tw=function(t,e){return function(n){return tN(n)?v(t(n.left)):m(e(n.right))}},tE=function(t){return function(e){return tN(e)?v(t(e.left)):e}},tR={URI:V,bimap:D,mapLeft:F},t_=function(t){return function(e){return tN(e)?t():e}},tx=t_,tI={URI:V,map:T,alt:B},tS=function(t){return function(e){return tN(e)?e:m(t(e))}},tO={URI:V,map:T,extend:J},tk={URI:V,map:T,ap:W,chain:M,chainRec:K},tU={URI:V,map:T,ap:W,of:ti,chain:M,throwError:v},tj={URI:V,fromEither:l},tP=function(t,e){return function(n){return tj.fromEither(t(n)?m(n):v(e(n)))}},tA=j(tj),tN=y,tM=function(t){return"Right"===t._tag},tT=function(t,e){return function(n){return tN(n)?t(n.left):e(n.right)}},tW=function(t){return function(e){return tN(e)?t(e.left):e.right}},t$=function(t){return function(e){return tn.map(e,function(e){return e(t)})}},tL=function(t){return function(e){return ts.ap(ts.map(e,function(t){return function(){return t}}),t)}},tq=function(t){return function(e){return ts.ap(ts.map(e,function(){return function(t){return t}}),t)}},tC=d(2,k(tl)),tD=M(l),tF=tS(l),tB=P(tj),tJ=(o=P(tj),function(t){var e=o(t);return function(t){return function(n){return tl.chain(n,e(t))}}}),tK={fromEither:tj.fromEither},tV=R(tK),tz=_(tK),tG={flatMap:M},tH=d(3,function(t,e,n){return tG.flatMap(t,R(tK)(e,n))}),tQ=d(3,function(t,e,n){return tG.flatMap(t,_(tK)(e,n))}),tX=function(t,e){return function(n){return tl.chain(n,function(n){return tj.fromEither(t(n)?m(n):v(e(n)))})}},tY=function(t){return tN(t)?m(t.left):v(t.right)},tZ=function(t){return function(e){return tN(e)?t(e.left):e}},t0=function(t){return function(e){return null==e?v(t):m(e)}},t1=function(t,e){try{return m(t())}catch(t){return v(e(t))}},t2=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t1(function(){return t.apply(void 0,n)},e)}},t3=function(t){var e=t0(t);return function(t){return p(t,e)}},t6=function(t){var e=t3(t);return function(t){return M(e(t))}},t4=tT(l,l);function t8(t){try{return t instanceof Error?t:Error(String(t))}catch(t){return Error()}}var t5=function(t){return function(e){return!tN(e)&&t(e.right)}},t7=ti({}),t9=function(t){return function(e){return tn.map(e,function(e){var n;return(n={})[t]=e,n})}},et=function(t,e){return function(n){return tn.map(n,function(n){var r;return Object.assign({},n,((r={})[t]=e(n),r))})}},ee=function(t,e){return function(n){return tl.chain(n,function(n){return tl.map(e(n),function(e){var r;return Object.assign({},n,((r={})[t]=e,r))})})}},en=function(t,e){return function(n){return ts.ap(ts.map(n,function(e){return function(n){var r;return Object.assign({},e,((r={})[t]=n,r))}}),e)}},er=ti(E),eu=function(t){return function(e){var n=t(0,w(e));if(tN(n))return n;for(var r=[n.right],u=1;u<e.length;u++){var i=t(u,e[u]);if(tN(i))return i;r.push(i.right)}return m(r)}},ei=function(t){var e=eu(t);return function(t){return b(t)?e(t):er}},eo=function(t){return ei(function(e,n){return t(n)})},ea=eo(l);function ec(t,e){return t1(function(){return JSON.parse(t)},e)}var es=function(t,e){return t1(function(){var e=JSON.stringify(t);if("string"!=typeof e)throw Error("Converting unsupported structure to JSON");return e},e)},ef={URI:V,map:T,of:ti,ap:W,chain:M,reduce:$,foldMap:L,reduceRight:q,traverse:C,sequence:tm,bimap:D,mapLeft:F,alt:B,extend:J,chainRec:K,throwError:v},el=x(ts),ep=O(tf),eh=function(t,e){return x(Z(t))(e)},ed=function(t,e){return O(Z(t))(e)};function eg(t){return{URI:V,_E:void 0,map:T,of:ti,chain:M,bimap:D,mapLeft:F,reduce:$,foldMap:L,reduceRight:q,extend:J,traverse:C,sequence:tm,chainRec:K,throwError:v,ap:Z(t).ap,alt:tt(t).alt}}t.s(["Alt",()=>tI,"ApT",()=>er,"Applicative",()=>tf,"Apply",()=>ts,"Bifunctor",()=>tR,"Chain",()=>tl,"ChainRec",()=>tk,"Do",()=>t7,"Extend",()=>tO,"Foldable",()=>ty,"FromEither",()=>tj,"Functor",()=>tn,"Monad",()=>tp,"MonadThrow",()=>tU,"Pointed",()=>to,"Traversable",()=>tb,"URI",()=>V,"alt",()=>tx,"altW",()=>t_,"ap",()=>tc,"apFirst",()=>tL,"apFirstW",()=>tL,"apS",()=>en,"apSW",()=>en,"apSecond",()=>tq,"apSecondW",()=>tq,"apW",()=>ta,"as",()=>tr,"asUnit",()=>tu,"bimap",()=>tw,"bind",()=>ee,"bindTo",()=>t9,"bindW",()=>ee,"chain",()=>M,"chainFirst",()=>tC,"chainFirstW",()=>tC,"chainNullableK",()=>t6,"chainOptionK",()=>tJ,"chainOptionKW",()=>tJ,"chainW",()=>M,"duplicate",()=>tF,"either",()=>ef,"elem",()=>function t(e){return function(n,r){if(void 0===r){var u=t(e);return function(t){return u(n,t)}}return!tN(r)&&e.equals(n,r.right)}},"exists",()=>t5,"extend",()=>tS,"filterOrElse",()=>tX,"filterOrElseW",()=>tX,"flap",()=>t$,"flatMap",()=>M,"flatMapNullable",()=>tH,"flatMapOption",()=>tQ,"flatten",()=>tD,"flattenW",()=>tD,"fold",()=>tT,"foldMap",()=>td,"foldW",()=>tT,"fromNullable",()=>t0,"fromNullableK",()=>t3,"fromOption",()=>tA,"fromOptionK",()=>tB,"fromPredicate",()=>tP,"getAltValidation",()=>tt,"getApplicativeValidation",()=>Z,"getApplyMonoid",()=>ep,"getApplySemigroup",()=>el,"getCompactable",()=>Q,"getEq",()=>G,"getFilterable",()=>X,"getOrElse",()=>tW,"getOrElseW",()=>tW,"getSemigroup",()=>H,"getShow",()=>z,"getValidation",()=>eg,"getValidationMonoid",()=>ed,"getValidationSemigroup",()=>eh,"getWitherable",()=>Y,"isLeft",()=>tN,"isRight",()=>tM,"left",()=>v,"let",()=>et,"liftNullable",()=>tV,"liftOption",()=>tz,"map",()=>te,"mapLeft",()=>tE,"match",()=>tT,"matchW",()=>tT,"of",()=>ti,"orElse",()=>tZ,"orElseW",()=>tZ,"parseJSON",()=>ec,"reduce",()=>th,"reduceRight",()=>tg,"right",()=>m,"sequence",()=>tm,"sequenceArray",()=>ea,"stringifyJSON",()=>es,"swap",()=>tY,"tap",()=>tC,"throwError",()=>v,"toError",()=>t8,"toUnion",()=>t4,"traverse",()=>tv,"traverseArray",()=>eo,"traverseArrayWithIndex",()=>ei,"traverseReadonlyArrayWithIndex",()=>ei,"traverseReadonlyNonEmptyArrayWithIndex",()=>eu,"tryCatch",()=>t1,"tryCatchK",()=>t2],42300),t.i(42300);var ey={_tag:"None"},ev=function(t){return{_tag:"Some",value:t}},em=function(t,e){return h(t,ew(e))},eb="Option",ew=function(t){return function(e){return eI(e)?ey:ev(t(e.value))}},eE={URI:eb,map:em};d(2,I(eE)),S(eE);var eR=function(t){return function(e){return eI(e)||eI(t)?ey:ev(e.value(t.value))}},e_=d(2,function(t,e){return eI(t)?ey:e(t.value)}),ex={URI:eb,map:em,ap:function(t,e){return h(t,eR(e))},chain:e_};d(2,function(t,e){return eI(t)?e():t});var eI=function(t){return"None"===t._tag};k(ex),A({URI:eb,fromEither:function(t){return"Left"===t._tag?ey:ev(t.right)}},ex);function eS(t,e){var n=k(e);return function(e,r){return n(e,p(r,t.fromIO))}}var eO=function(t){return function(){return Promise.resolve().then(t)}},ek=function(t,e){return h(t,ej(e))},eU=function(t,e){return h(t,eP(e))},ej=function(t){return function(e){return function(){return Promise.resolve().then(e).then(t)}}},eP=function(t){return function(e){return function(){return Promise.all([Promise.resolve().then(e),Promise.resolve().then(t)]).then(function(t){return(0,t[0])(t[1])})}}},eA=function(t){return function(){return Promise.resolve(t)}},eN=d(2,function(t,e){return function(){return Promise.resolve().then(t).then(function(t){return e(t)()})}}),eM="Task",eT={URI:eM,map:ek};d(2,I(eT)),S(eT);var eW=eA,e$={URI:eM,map:ek,ap:eU,chain:eN},eL={URI:eM,map:ek,of:eA,ap:eU,chain:eN},eq={URI:eM,fromIO:eO};eq.fromIO,k(e$),eS(eq,e$);var eC=eA(E),eD=function(t,e){var n,r,u,i,o={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){var s=[a,c];if(n)throw TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(u=2&s[0]?r.return:s[0]?r.throw||((u=r.return)&&u.call(r),0):r.next)&&!(u=u.call(r,s[1])).done)return u;switch(r=0,u&&(s=[2&s[0],u.value]),s[0]){case 0:case 1:u=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(u=(u=o.trys).length>0&&u[u.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!u||s[1]>u[0]&&s[1]<u[3])){o.label=s[1];break}if(6===s[0]&&o.label<u[1]){o.label=u[1],u=s;break}if(u&&o.label<u[2]){o.label=u[2],o.ops.push(s);break}u[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],r=0}finally{n=u=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}},eF=p(v,eW),eB=p(m,eW),eJ=function(t){return eT.map(t,m)},eK=p(eO,eJ),eV=function(t,e){return function(n){return eT.map(n,tT(t,e))}},ez=function(t,e){return function(){var n,r,u,i;return n=void 0,r=void 0,u=void 0,i=function(){return eD(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,t().then(m)];case 1:return[2,n.sent()];case 2:return[2,v(e(n.sent()))];case 3:return[2]}})},new(u||(u=Promise))(function(t,e){function o(t){try{c(i.next(t))}catch(t){e(t)}}function a(t){try{c(i.throw(t))}catch(t){e(t)}}function c(e){var n;e.done?t(e.value):((n=e.value)instanceof u?n:new u(function(t){t(n)})).then(o,a)}c((i=i.apply(n,r||[])).next())})}},eG=function(t,e){return h(t,eH(e))},eH=function(t){return function(e){return eT.map(e,function(e){return tn.map(e,t)})}},eQ=(a={URI:eM,map:ek,ap:eU},function(t){return function(e){return a.ap(a.map(e,function(t){return function(e){return ts.ap(t,e)}}),t)}}),eX=d(2,(i=eL,function(t,e){return i.chain(t,function(t){return tN(t)?i.of(t):e(t.right)})})),eY="TaskEither",eZ={URI:eY,map:eG};d(2,I(eZ)),S(eZ);var e0={URI:eY,map:eG,ap:function(t,e){return h(t,eQ(e))},chain:eX},e1={URI:eY,fromEither:eA},e2={URI:eY,fromIO:eK};k(e0),A(e1,e0),eS(e2,e0),k(e0),e1.fromEither,e2.fromIO;var e3=eB(E),e6=t.i(41458),e4=Object.defineProperty,e8=(t,e,n)=>{let r;return(r="symbol"!=typeof e?e+"":e)in t?e4(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n},e5=Object.defineProperty,e7=(t,e,n)=>{let r;return(r="symbol"!=typeof e?e+"":e)in t?e5(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n};function e9(t){return e=>e instanceof t}function nt(t,e){let n=class extends Error{constructor(...n){super(..."function"==typeof e?e(...n):"string"==typeof e?[e]:e||[]),this.name=t}};return e7(n,"is",e9(n)),Object.defineProperty(n,"name",{value:t}),n}function ne(t,e,n){let r=class extends nt(t,n){constructor(...t){super(...t),e7(this,"data"),this.data=e(...t)}};return e7(r,"is",e9(r)),Object.defineProperty(r,"name",{value:t}),r}class nn extends nt("CancelledError","Promise was canceled"){}class nr extends ne("TimeoutError",t=>({timeout:t}),(t,e)=>[`Timeout reached: ${t}ms`,{cause:e}]){}let nu=Symbol("resolved");function ni(t,e){return t.reject=e.reject,t.resolve=e.resolve,t}class no extends Promise{constructor(t,e){let n,r,u,i,o,a;"function"==typeof t?(u=t,i=e||{}):i=t||{};let c={};const s=[],f=()=>{s.forEach(t=>t()),s.splice(0,s.length),c={}},l=new AbortController;super((t,e)=>{let{abortOnResolve:p=!0,abortOnReject:h=!0}=i;r=e=>{var n,r;o||a||(t(e),o=[e],null==(n=c.resolved)||n.forEach(t=>t(e)),null==(r=c.finalized)||r.forEach(t=>t({kind:"resolved",result:e})),f(),p&&l.abort({tag:nu,value:e}))},n=t=>{var n,r;o||a||(e(t),a=[t],null==(n=c.rejected)||n.forEach(e=>e(t)),null==(r=c.finalized)||r.forEach(e=>e({kind:"rejected",reason:t})),f(),h&&l.abort(t))};let{abortSignal:d}=i;if(d){if(d.aborted)return n(d.reason);let t=()=>{n(d.reason)};d.addEventListener("abort",t,!0),s.push(()=>{d.removeEventListener("abort",t,!0)})}let{timeout:g}=i;if(g){let t=setTimeout(()=>{n(new nr(g))},g);s.push(()=>{clearTimeout(t)})}try{let t=()=>{},e=u&&u(r,n,{abortSignal:l.signal,get isRejected(){return!!a},get isResolved(){return!!o},on(e,n){if(o||a){if("finalized"===e){let t=o?{kind:"resolved",result:o[0]}:{kind:"rejected",reason:a[0]};n(t)}else"resolved"===e&&o?n(o[0]):"rejected"===e&&a&&n(a[0]);return t}return c[e]||(c[e]=[]),c[e].push(n),()=>{let t=c[e]||[],r=t.indexOf(n);r>=0&&t.splice(r,1)}},get result(){return null==o?void 0:o[0]},get rejectReason(){return null==a?void 0:a[0]},throwIfRejected(){if(a)throw a[0]}});e instanceof Promise&&e.catch(n)}catch(t){n(t)}}),e8(this,"reject"),e8(this,"resolve"),this.reject=n,this.resolve=r}static fn(t,e){return new no(async(e,n,r)=>{try{e(await t(r))}catch(t){n(t)}},e)}static resolve(t){return this.fn(()=>t)}static reject(t){return new no((e,n)=>{n(t)})}cancel(){this.reject(new nn)}catch(t){return this.then(void 0,t)}finally(t){return ni(super.finally(t),this)}then(t,e){return ni(super.then(t,e),this)}}var na=function(t,e,n){if(n||2==arguments.length)for(var r,u=0,i=e.length;u<i;u++)!r&&u in e||(r||(r=Array.prototype.slice.call(e,0,u)),r[u]=e[u]);return t.concat(r||Array.prototype.slice.call(e))};function nc(t,e,n,r,u,i,o,a,c){switch(arguments.length){case 1:return t;case 2:return function(){return e(t.apply(this,arguments))};case 3:return function(){return n(e(t.apply(this,arguments)))};case 4:return function(){return r(n(e(t.apply(this,arguments))))};case 5:return function(){return u(r(n(e(t.apply(this,arguments)))))};case 6:return function(){return i(u(r(n(e(t.apply(this,arguments))))))};case 7:return function(){return o(i(u(r(n(e(t.apply(this,arguments)))))))};case 8:return function(){return a(o(i(u(r(n(e(t.apply(this,arguments))))))))};case 9:return function(){return c(a(o(i(u(r(n(e(t.apply(this,arguments)))))))))}}}function ns(t,e,n,r,u,i,o,a,c){switch(arguments.length){case 1:return t;case 2:return e(t);case 3:return n(e(t));case 4:return r(n(e(t)));case 5:return u(r(n(e(t))));case 6:return i(u(r(n(e(t)))));case 7:return o(i(u(r(n(e(t))))));case 8:return a(o(i(u(r(n(e(t)))))));case 9:return c(a(o(i(u(r(n(e(t))))))));default:for(var s=arguments[0],f=1;f<arguments.length;f++)s=arguments[f](s);return s}}var nf=function(t,e){var n="number"==typeof t?function(e){return e.length>=t}:t;return function(){var t=Array.from(arguments);return n(arguments)?e.apply(this,t):function(n){return e.apply(void 0,na([n],t,!1))}}},nl=function(t){return{_tag:"Left",left:t}},np=function(t){return{_tag:"Right",right:t}},nh=function(t){return"Left"===t._tag},nd=function(t,e){return function(n){return nh(n)?t(n.left):e(n.right)}},ng=function(t,e){return ns(t,ny(e))},ny=function(t){return function(e){return function(){return Promise.resolve().then(e).then(t)}}},nv=function(t){return function(){return Promise.resolve(t)}},nm=nf(2,function(t,e){return function(){return Promise.resolve().then(t).then(function(t){return e(t)()})}}),nb="Task",nw=nv,nE=function(t,e){var n,r,u,i,o={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){var s=[a,c];if(n)throw TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(u=2&s[0]?r.return:s[0]?r.throw||((u=r.return)&&u.call(r),0):r.next)&&!(u=u.call(r,s[1])).done)return u;switch(r=0,u&&(s=[2&s[0],u.value]),s[0]){case 0:case 1:u=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(u=(u=o.trys).length>0&&u[u.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!u||s[1]>u[0]&&s[1]<u[3])){o.label=s[1];break}if(6===s[0]&&o.label<u[1]){o.label=u[1],u=s;break}if(u&&o.label<u[2]){o.label=u[2],o.ops.push(s);break}u[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],r=0}finally{n=u=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}},nR=nc(nl,nw),n_=nc(np,nw),nx=(c={URI:nb,map:ng},function(t,e){return function(n){return c.map(n,nd(t,e))}}),nI=nf(2,(s={URI:nb,map:ng,of:nv,ap:function(t,e){var n;return ns(t,(n=e,function(t){return function(){return Promise.all([Promise.resolve().then(t),Promise.resolve().then(n)]).then(function(t){return(0,t[0])(t[1])})}}))},chain:nm},function(t,e){return s.chain(t,function(t){return nh(t)?s.of(t):e(t.right)})}));function nS(t){return Object.assign((...e)=>{var n;let r;return n=t(...e),r=t=>{throw t},"function"==typeof n?no.resolve(ns(n,nx(r,t=>t))()):ns(n,nd(r,t=>t))},t)}let nO=Object.assign((t,e)=>{var n,r;return ns((n=()=>new no((e,n,r)=>t(t=>e(np(t)),t=>e(nl(t)),r),e),r=t=>t,function(){var t,e,u,i;return t=void 0,e=void 0,u=void 0,i=function(){return nE(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,n().then(np)];case 1:return[2,t.sent()];case 2:return[2,nl(r(t.sent()))];case 3:return[2]}})},new(u||(u=Promise))(function(n,r){function o(t){try{c(i.next(t))}catch(t){r(t)}}function a(t){try{c(i.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?n(t.value):((e=t.value)instanceof u?e:new u(function(t){t(e)})).then(o,a)}c((i=i.apply(t,e||[])).next())})}),nI(nd(nR,n_)))},{fn:(t,e)=>nO((e,n,r)=>{let u=t(r);ns("function"==typeof u?u:nv(u),nx(n,e))()},e)});function nk(t){return{lang:t?.lang??e?.lang,message:t?.message,abortEarly:t?.abortEarly??e?.abortEarly,abortPipeEarly:t?.abortPipeEarly??e?.abortPipeEarly}}function nU(t,e,i,o,a){var c,s,f,l;let p,h=a&&"input"in a?a.input:i.value,d=a?.expected??t.expects??null,g=a?.received??("string"==(p=typeof h)?`"${h}"`:"number"===p||"bigint"===p||"boolean"===p?`${h}`:"object"===p||"function"===p?(h&&Object.getPrototypeOf(h)?.constructor?.name)??"null":p),y={kind:t.kind,type:t.type,input:h,expected:d,received:g,message:`Invalid ${e}: ${d?`Expected ${d} but r`:"R"}eceived ${g}`,requirement:t.requirement,path:a?.path,issues:a?.issues,lang:o.lang,abortEarly:o.abortEarly,abortPipeEarly:o.abortPipeEarly},v="schema"===t.kind,m=a?.message??t.message??(c=t.reference,s=y.lang,u?.get(c)?.get(s))??(v?(f=y.lang,r?.get(f)):null)??o.message??(l=y.lang,n?.get(l));void 0!==m&&(y.message="function"==typeof m?m(y):m),v&&(i.typed=!1),i.issues?i.issues.push(y):i.issues=[y]}function nj(t){return{version:1,vendor:"valibot",validate:e=>t["~run"]({value:e},nk())}}function nP(t,e){return Object.hasOwn(t,e)&&"__proto__"!==e&&"prototype"!==e&&"constructor"!==e}var nA=class extends Error{constructor(t){super(t[0].message),this.name="ValiError",this.issues=t}};function nN(t,e){return{kind:"validation",type:"check",reference:nN,async:!1,expects:null,requirement:t,message:e,"~run"(t,e){return t.typed&&!this.requirement(t.value)&&nU(this,"input",t,e),t}}}function nM(t){return{kind:"transformation",type:"transform",reference:nM,async:!1,operation:t,"~run"(t){return t.value=this.operation(t.value),t}}}function nT(t,e,n){return"function"==typeof t.default?t.default(e,n):t.default}function nW(t){return{kind:"schema",type:"boolean",reference:nW,expects:"boolean",async:!1,message:t,get"~standard"(){return nj(this)},"~run"(t,e){return"boolean"==typeof t.value?t.typed=!0:nU(this,"type",t,e),t}}}function n$(t,e){return{kind:"schema",type:"instance",reference:n$,expects:t.name,async:!1,class:t,message:e,get"~standard"(){return nj(this)},"~run"(t,e){return t.value instanceof this.class?t.typed=!0:nU(this,"type",t,e),t}}}function nL(t,e){return{kind:"schema",type:"loose_object",reference:nL,expects:"Object",async:!1,entries:t,message:e,get"~standard"(){return nj(this)},"~run"(t,e){let n=t.value;if(n&&"object"==typeof n){for(let r in t.typed=!0,t.value={},this.entries){let u=this.entries[r];if(r in n||("exact_optional"===u.type||"optional"===u.type||"nullish"===u.type)&&void 0!==u.default){let i=r in n?n[r]:nT(u),o=u["~run"]({value:i},e);if(o.issues){let u={type:"object",origin:"value",input:n,key:r,value:i};for(let e of o.issues)e.path?e.path.unshift(u):e.path=[u],t.issues?.push(e);if(t.issues||(t.issues=o.issues),e.abortEarly){t.typed=!1;break}}o.typed||(t.typed=!1),t.value[r]=o.value}else if(void 0!==u.fallback)t.value[r]="function"==typeof u.fallback?u.fallback(void 0,void 0):u.fallback;else if("exact_optional"!==u.type&&"optional"!==u.type&&"nullish"!==u.type&&(nU(this,"key",t,e,{input:void 0,expected:`"${r}"`,path:[{type:"object",origin:"key",input:n,key:r,value:n[r]}]}),e.abortEarly))break}if(!t.issues||!e.abortEarly)for(let e in n)!nP(n,e)||e in this.entries||(t.value[e]=n[e])}else nU(this,"type",t,e);return t}}}function nq(t){return{kind:"schema",type:"number",reference:nq,expects:"number",async:!1,message:t,get"~standard"(){return nj(this)},"~run"(t,e){return"number"!=typeof t.value||isNaN(t.value)?nU(this,"type",t,e):t.typed=!0,t}}}function nC(t,e){return{kind:"schema",type:"optional",reference:nC,expects:`(${t.expects} | undefined)`,async:!1,wrapped:t,default:e,get"~standard"(){return nj(this)},"~run"(t,e){return void 0===t.value&&(void 0!==this.default&&(t.value=nT(this,t,e)),void 0===t.value)?(t.typed=!0,t):this.wrapped["~run"](t,e)}}}function nD(t){return{kind:"schema",type:"string",reference:nD,expects:"string",async:!1,message:t,get"~standard"(){return nj(this)},"~run"(t,e){return"string"==typeof t.value?t.typed=!0:nU(this,"type",t,e),t}}}function nF(t){let e;if(t)for(let n of t)e?e.push(...n.issues):e=n.issues;return e}function nB(t,e){let n;return{kind:"schema",type:"union",reference:nB,expects:(n=[...new Set(t.map(t=>t.expects))]).length>1?`(${n.join(" | ")})`:n[0]??"never",async:!1,options:t,message:e,get"~standard"(){return nj(this)},"~run"(t,e){let n,r,u;for(let i of this.options){let o=i["~run"]({value:t.value},e);if(o.typed)if(o.issues)r?r.push(o):r=[o];else{n=o;break}else u?u.push(o):u=[o]}if(n)return n;if(r){if(1===r.length)return r[0];nU(this,"type",t,e,{issues:nF(r)}),t.typed=!0}else{if(u?.length===1)return u[0];nU(this,"type",t,e,{issues:nF(u)})}return t}}}function nJ(t,e,n){let r=t["~run"]({value:e},nk(n));if(r.issues)throw new nA(r.issues);return r.value}function nK(...t){return{...t[0],pipe:t,get"~standard"(){return nj(this)},"~run"(e,n){for(let r of t)if("metadata"!==r.kind){if(e.issues&&("schema"===r.kind||"transformation"===r.kind)){e.typed=!1;break}e.issues&&(n.abortEarly||n.abortPipeEarly)||(e=r["~run"](e,n))}return e}}}var nV=function(t){return{_tag:"Left",left:t}},nz=function(t){return{_tag:"Right",right:t}},nG=function(t,e){try{return nz(t())}catch(t){return nV(e(t))}};function nH(t){return nK(nD(),nK(nD(),nN(t=>{try{return JSON.parse(t),!0}catch{return!1}},"Input is not a valid JSON value"),nM(JSON.parse),t))}function nQ(t){let e;return nK(nB([nD(),n$(URLSearchParams)]),(e=e=>{let n={};return new URLSearchParams(e).forEach((t,e)=>{let r=n[e];Array.isArray(r)?r.push(t):void 0===r?n[e]=t:n[e]=[r,t]}),nJ(t,n)},nK(nB([nD(),n$(URLSearchParams)]),nN(t=>{try{return e(t),!0}catch{return!1}},"The value doesn't match required schema"),nM(e))))}function nX(t){return e=>t.test(e)}let nY=nX(/^#[\da-f]{3}$/i),nZ=nX(/^#[\da-f]{4}$/i),n0=nX(/^#[\da-f]{6}$/i),n1=nX(/^#[\da-f]{8}$/i);function n2(t){return[n0,n1,nY,nZ].some(e=>e(t))}function n3(t){let e="#";for(let n=0;n<t.length-1;n+=1)e+=t[1+n].repeat(2);return e}function n6(t){let e=t.replace(/\s/g,"").toLowerCase();if(/^#[\da-f]{3}$/i.test(e))return nz(n3(e.toLowerCase()+"f"));if(/^#[\da-f]{4}$/i.test(e))return nz(n3(e.toLowerCase()));if(/^#[\da-f]{6}$/i.test(e))return nz(e.toLowerCase()+"ff");if(/^#[\da-f]{8}$/i.test(e))return nz(e.toLowerCase());let n=e.match(/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/)||e.match(/^rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),(\d{1,3})\)$/);return n?nz(n.slice(1).reduce((t,e)=>t+parseInt(e,10).toString(16).padStart(2,"0"),"#").padEnd(9,"f")):nV(Error(`Value "${t}" does not satisfy any of known RGB formats.`))}function n4(){return nL({added_to_attachment_menu:nC(nW()),allows_write_to_pm:nC(nW()),first_name:nD(),id:nq(),is_bot:nC(nW()),is_premium:nC(nW()),last_name:nC(nD()),language_code:nC(nD()),photo_url:nC(nD()),username:nC(nD())})}function n8(){return nQ(nL({auth_date:nK(nD(),nM(t=>new Date(1e3*Number(t))),function t(e){return{kind:"schema",type:"date",reference:t,expects:"Date",async:!1,message:e,get"~standard"(){return nj(this)},"~run"(t,e){return t.value instanceof Date?isNaN(t.value)?nU(this,"type",t,e,{received:'"Invalid Date"'}):t.typed=!0:nU(this,"type",t,e),t}}}()),can_send_after:nC(nK(nD(),nM(Number),function t(e){return{kind:"validation",type:"integer",reference:t,async:!1,expects:null,requirement:Number.isInteger,message:e,"~run"(t,e){return t.typed&&!this.requirement(t.value)&&nU(this,"integer",t,e),t}}}())),chat:nC(nH(nL({id:nq(),photo_url:nC(nD()),type:nD(),title:nD(),username:nC(nD())}))),chat_type:nC(nD()),chat_instance:nC(nD()),hash:nD(),query_id:nC(nD()),receiver:nC(nH(n4())),start_param:nC(nD()),signature:nD(),user:nC(nH(n4()))}))}function n5(){return function t(e,n,r){return{kind:"schema",type:"record",reference:t,expects:"Object",async:!1,key:e,value:n,message:r,get"~standard"(){return nj(this)},"~run"(t,e){let n=t.value;if(n&&"object"==typeof n){for(let r in t.typed=!0,t.value={},n)if(nP(n,r)){let u=n[r],i=this.key["~run"]({value:r},e);if(i.issues){let o={type:"object",origin:"key",input:n,key:r,value:u};for(let e of i.issues)e.path=[o],t.issues?.push(e);if(t.issues||(t.issues=i.issues),e.abortEarly){t.typed=!1;break}}let o=this.value["~run"]({value:u},e);if(o.issues){let i={type:"object",origin:"value",input:n,key:r,value:u};for(let e of o.issues)e.path?e.path.unshift(i):e.path=[i],t.issues?.push(e);if(t.issues||(t.issues=o.issues),e.abortEarly){t.typed=!1;break}}i.typed&&o.typed||(t.typed=!1),i.typed&&(t.value[i.value]=o.value)}}else nU(this,"type",t,e);return t}}}(nD(),nK(nB([nD(),nq()]),nM(t=>"number"==typeof t?`#${(0xffffff&t).toString(16).padStart(6,"0")}`:t),nN(n2)))}nS(function(t){var e;return function(t,e,n,r,u,i,o,a,c){switch(arguments.length){case 1:return t;case 2:return e(t);case 3:return n(e(t));case 4:return r(n(e(t)));case 5:return u(r(n(e(t))));case 6:return i(u(r(n(e(t)))));case 7:return o(i(u(r(n(e(t))))));case 8:return a(o(i(u(r(n(e(t)))))));case 9:return c(a(o(i(u(r(n(e(t))))))));default:for(var s=arguments[0],f=1;f<arguments.length;f++)s=arguments[f](s);return s}}(n6(t),(e=t=>t.slice(0,7),function(t){return"Left"===t._tag?t:nz(e(t.right))}))}),nS(n6);let n7=nS(function(t){return nG(()=>nJ(n8(),t),t=>t)});nS(function(t){return nG(()=>{let e;return nJ(nQ(nL({tgWebAppBotInline:e=nC(nK(nD(),nM(t=>"1"===t))),tgWebAppData:nC(n8()),tgWebAppDefaultColors:nC(nH(n5())),tgWebAppFullscreen:e,tgWebAppPlatform:nD(),tgWebAppShowSettings:e,tgWebAppStartParam:nC(nD()),tgWebAppThemeParams:nH(n5()),tgWebAppVersion:nD()})),t)},t=>t)});var n9=Object.defineProperty,rt=(t,e,n)=>{let r;return(r="symbol"!=typeof e?e+"":e)in t?n9(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n};function re(t){return e=>e instanceof t}function rn(t,e){let n=class extends Error{constructor(...n){super(..."function"==typeof e?e(...n):"string"==typeof e?[e]:e||[]),this.name=t}};return rt(n,"is",re(n)),Object.defineProperty(n,"name",{value:t}),n}function rr(t,e,n){let r=class extends rn(t,n){constructor(...t){super(...t),rt(this,"data"),this.data=e(...t)}};return rt(r,"is",re(r)),Object.defineProperty(r,"name",{value:t}),r}class ru extends rr("AuthDateInvalidError",t=>({value:t}),t=>[`"auth_date" is invalid: ${t||"value is missing"}`]){}class ri extends rn("SignatureInvalidError"){}class ro extends rn("HexStringLengthInvalidError"){}class ra extends rn("SignatureMissingError",t=>[`"${t?"signature":"hash"}" parameter is missing`]){}class rc extends rr("ExpiredError",(t,e)=>({issuedAt:t,expiresAt:e}),(t,e,n)=>[`Init data expired. Issued at ${t.toISOString()}, expires at ${e.toISOString()}, now is ${n.toISOString()}`]){}function rs(t){return new Uint8Array(t).reduce((t,e)=>t+e.toString(16).padStart(2,"0"),"")}var rf=t.i(66680);function rl(t){return Buffer.from("string"==typeof t?t:new Uint8Array(t))}let rp=(t,e)=>{var n;let r;return r=new ArrayBuffer((n=(0,rf.createHmac)("sha256",rl(e)).update(rl(t)).digest()).length),n.copy(new Uint8Array(r)),r};function rh(t,e,n){return function(t,e,n,r,u={}){let i=u.tokenHashed?"string"==typeof n?function(t){if(t.length%2!=0)return v(new ro);let e=new ArrayBuffer(t.length/2),n=new Uint8Array(e);for(let e=0;e<t.length;e+=2)n[e/2]=parseInt(t.substring(e,e+2),16);return m(e)}(n):m(n):(0,e6.pipe)(m(r(n,"WebAppData")),tT(()=>null,t=>t instanceof Promise?ez(()=>t,t=>t):m(t)));return t||"function"==typeof i?(0,e6.pipe)("function"==typeof i?i:eA(i),eX(t=>ez(()=>Promise.resolve(r(e,t)).then(rs),t=>t))):(0,e6.pipe)(i,M(t=>m(rs(r(e,t)))))}(!1,t,e,rp,n)}async function rd(t){var e,n;let r=t.headers.get("x-telegram-init-data");if(!r)return Promise.reject(new Response(JSON.stringify({error:"Missing Telegram init data"}),{status:401,headers:{"Content-Type":"application/json"}}));let u=process.env.TG_BOT_TOKEN;if(!u)throw Error("TG_BOT_TOKEN is not configured");await (e=r,n=u,void(0,e6.pipe)(function(t,e,n,r,u={}){let i,o,a,c=[];if(("string"==typeof e?new URLSearchParams(e):e).forEach((t,e)=>{if("hash"===e){a=t;return}if("auth_date"===e){o=t;let e=parseInt(t,10);Number.isNaN(e)||(i=new Date(1e3*e))}c.push(`${e}=${t}`)}),!a)return(t?eF:v)(new ra(!1));if(!i)return(t?eF:v)(new ru(o));let{expiresIn:s=86400}=u;if(s>0){let e=i.getTime()+1e3*s,n=Date.now();if(e<n)return(t?eF:v)(new rc(i,new Date(e),new Date(n)))}c.sort();let f=r(c.join("\n"),n,u),l=t=>v(t),p=t=>t===a?m(void 0):v(new ri);return"function"==typeof f?h(f,eV(l,p)):h(f,tT(l,p))}(!1,e,n,rh,void 0),tE(t=>{throw t})));let i=n7(r).user;return i&&void 0!==i.id?{id:String(i.id),username:i.username??void 0,firstName:i.first_name??void 0,lastName:i.last_name??void 0}:Promise.reject(new Response(JSON.stringify({error:"Telegram user not found in init data"}),{status:401,headers:{"Content-Type":"application/json"}}))}t.s(["requireTelegramUser",()=>rd],27837)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__f1c0439a._.js.map
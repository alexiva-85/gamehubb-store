{"version":3,"sources":["../../../../node_modules/.pnpm/next%4016.0.7_%40babel%2Bcore%407.28.5_%40playwright%2Btest%401.57.0_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0/node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","../../../../node_modules/.pnpm/next%4016.0.7_%40babel%2Bcore%407.28.5_%40playwright%2Btest%401.57.0_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0/node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","../../../../node_modules/.pnpm/next%4016.0.7_%40babel%2Bcore%407.28.5_%40playwright%2Btest%401.57.0_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0/node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","../../../../node_modules/.pnpm/%40telegram-apps%2Btelegram-ui%402.1.13_%40types%2Breact-dom%4019.2.3_%40types%2Breact%4019.2.7__%40types%2Br_cd2a85882c477b95a917a92df729637e/node_modules/%40telegram-apps/telegram-ui/dist/components/Blocks/Cell/hooks/useTypographyCellComponents.js","../../../../node_modules/.pnpm/%40telegram-apps%2Btelegram-ui%402.1.13_%40types%2Breact-dom%4019.2.3_%40types%2Breact%4019.2.7__%40types%2Br_cd2a85882c477b95a917a92df729637e/node_modules/%40telegram-apps/telegram-ui/dist/components/Blocks/Cell/Cell.js","../../../../node_modules/.pnpm/%40telegram-apps%2Btelegram-ui%402.1.13_%40types%2Breact-dom%4019.2.3_%40types%2Breact%4019.2.7__%40types%2Br_cd2a85882c477b95a917a92df729637e/node_modules/%40telegram-apps/telegram-ui/dist/components/Form/Checkbox/icons/checkbox.js","../../../../node_modules/.pnpm/%40telegram-apps%2Btelegram-ui%402.1.13_%40types%2Breact-dom%4019.2.3_%40types%2Breact%4019.2.7__%40types%2Br_cd2a85882c477b95a917a92df729637e/node_modules/%40telegram-apps/telegram-ui/dist/components/Form/Checkbox/Checkbox.js","../../../../node_modules/.pnpm/%40telegram-apps%2Btelegram-ui%402.1.13_%40types%2Breact-dom%4019.2.3_%40types%2Breact%4019.2.7__%40types%2Br_cd2a85882c477b95a917a92df729637e/node_modules/%40telegram-apps/telegram-ui/dist/components/Form/Checkbox/icons/checkbox_checked.js","../../../../node_modules/.pnpm/%40telegram-apps%2Btelegram-ui%402.1.13_%40types%2Breact-dom%4019.2.3_%40types%2Breact%4019.2.7__%40types%2Br_cd2a85882c477b95a917a92df729637e/node_modules/%40telegram-apps/telegram-ui/dist/components/Form/Checkbox/icons/checkbox_indeterminate.js","../../../../node_modules/.pnpm/%40telegram-apps%2Btelegram-ui%402.1.13_%40types%2Breact-dom%4019.2.3_%40types%2Breact%4019.2.7__%40types%2Br_cd2a85882c477b95a917a92df729637e/node_modules/%40telegram-apps/telegram-ui/dist/components/Service/VisuallyHidden/VisuallyHidden.js","../../../../src/components/Banner.tsx","../../../../src/components/Price.tsx","../../../../src/lib/tg.ts","../../../../src/lib/api.ts","../../../../src/app/checkout/page.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","'use client';\nimport { _ as _object_spread } from \"@swc/helpers/_/_object_spread\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useCallback } from \"react\";\nimport { usePlatform } from \"../../../../hooks/usePlatform\";\nimport { Caption } from \"../../../Typography/Caption/Caption\";\nimport { Subheadline } from \"../../../Typography/Subheadline/Subheadline\";\nimport { Text } from \"../../../Typography/Text/Text\";\nexport const useTypographyCellComponents = ()=>{\n    const platform = usePlatform();\n    const isIOS = platform === 'ios';\n    const Title = useCallback((props)=>{\n        if (isIOS) {\n            return /*#__PURE__*/ _jsx(Text, _object_spread({}, props));\n        }\n        return /*#__PURE__*/ _jsx(Subheadline, _object_spread({\n            level: \"1\"\n        }, props));\n    }, [\n        isIOS\n    ]);\n    const Description = useCallback((props)=>{\n        if (isIOS) {\n            return /*#__PURE__*/ _jsx(Caption, _object_spread({}, props));\n        }\n        return /*#__PURE__*/ _jsx(Subheadline, _object_spread({\n            level: \"2\"\n        }, props));\n    }, [\n        isIOS\n    ]);\n    return {\n        Title,\n        Description\n    };\n};\n\n//# sourceMappingURL=useTypographyCellComponents.js.map","'use client';\nimport { _ as _object_spread } from \"@swc/helpers/_/_object_spread\";\nimport { _ as _object_spread_props } from \"@swc/helpers/_/_object_spread_props\";\nimport { _ as _object_without_properties } from \"@swc/helpers/_/_object_without_properties\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { forwardRef } from \"react\";\nimport { classNames } from \"../../../helpers/classNames\";\nimport { hasReactNode } from \"../../../helpers/react/node\";\nimport { usePlatform } from \"../../../hooks/usePlatform\";\nimport { Tappable } from \"../../Service/Tappable/Tappable\";\nimport { Subheadline } from \"../../Typography/Subheadline/Subheadline\";\nimport { useTypographyCellComponents } from \"./hooks/useTypographyCellComponents\";\n/**\n * `Cell` component acts as a flexible and interactive container for various types of content,\n * enabling the creation of complex list items, form fields, and more. It leverages the `Tappable`\n * component for interaction and is designed to be flexible and extensible.\n */ export const Cell = /*#__PURE__*/ forwardRef((_param, ref)=>{\n    var { children, titleBadge, hint, subhead, subtitle, description, className, before, after, Component, hovered, multiline } = _param, restProps = _object_without_properties(_param, [\n        \"children\",\n        \"titleBadge\",\n        \"hint\",\n        \"subhead\",\n        \"subtitle\",\n        \"description\",\n        \"className\",\n        \"before\",\n        \"after\",\n        \"Component\",\n        \"hovered\",\n        \"multiline\"\n    ]);\n    const platform = usePlatform();\n    const { Title, Description } = useTypographyCellComponents();\n    const hasTitle = hasReactNode(children) || hasReactNode(hint) || hasReactNode(titleBadge);\n    return /*#__PURE__*/ _jsxs(Tappable, _object_spread_props(_object_spread({\n        ref: ref,\n        Component: Component || 'div',\n        className: classNames(\"tgui-b8dfba0b5c3d054c\", platform === 'ios' && \"tgui-7b5bccbb645b495f\", hovered && \"tgui-7edaaf0c57797623\", multiline && \"tgui-6c49dadccf648a5b\", className)\n    }, restProps), {\n        children: [\n            hasReactNode(before) && /*#__PURE__*/ _jsx(\"div\", {\n                className: \"tgui-aaa795d78c356ac1\",\n                children: before\n            }),\n            /*#__PURE__*/ _jsxs(\"div\", {\n                className: \"tgui-8735a62be5a8b8a7\",\n                children: [\n                    hasReactNode(subhead) && /*#__PURE__*/ _jsx(Subheadline, {\n                        className: \"tgui-46dd90b57ffed25f\",\n                        level: \"2\",\n                        weight: \"3\",\n                        children: subhead\n                    }),\n                    hasTitle && /*#__PURE__*/ _jsxs(Title, {\n                        className: \"tgui-a894f59f4c5ad72f\",\n                        children: [\n                            hasReactNode(children) && /*#__PURE__*/ _jsx(\"span\", {\n                                className: \"tgui-1c6d7865a76a19bc\",\n                                children: children\n                            }),\n                            hasReactNode(hint) && /*#__PURE__*/ _jsx(\"span\", {\n                                className: \"tgui-bb909928b48f948b\",\n                                children: hint\n                            }),\n                            hasReactNode(titleBadge) && titleBadge\n                        ]\n                    }),\n                    hasReactNode(subtitle) && /*#__PURE__*/ _jsx(Subheadline, {\n                        className: \"tgui-d528ef65a8b76273\",\n                        level: \"2\",\n                        weight: \"3\",\n                        children: subtitle\n                    }),\n                    hasReactNode(description) && /*#__PURE__*/ _jsx(Description, {\n                        className: \"tgui-fc059ed3ac5799a6\",\n                        children: description\n                    })\n                ]\n            }),\n            hasReactNode(after) && /*#__PURE__*/ _jsx(\"div\", {\n                className: \"tgui-56b2e897ed7ccb22\",\n                children: after\n            })\n        ]\n    }));\n});\n\n//# sourceMappingURL=Cell.js.map","import { _ as _extends } from \"@swc/helpers/_/_extends\";\nimport { _ as _object_destructuring_empty } from \"@swc/helpers/_/_object_destructuring_empty\";\nimport { _ as _object_spread } from \"@swc/helpers/_/_object_spread\";\nimport { _ as _object_spread_props } from \"@swc/helpers/_/_object_spread_props\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const IconCheckbox = (_param)=>{\n    var restProps = _extends({}, _object_destructuring_empty(_param));\n    return /*#__PURE__*/ _jsx(\"svg\", _object_spread_props(_object_spread({\n        width: \"20\",\n        height: \"20\",\n        fill: \"none\",\n        xmlns: \"http://www.w3.org/2000/svg\"\n    }, restProps), {\n        children: /*#__PURE__*/ _jsx(\"path\", {\n            d: \"M6.4 1h7.2c1.14 0 1.93 0 2.55.05.6.05.95.14 1.21.28a3 3 0 0 1 1.31 1.3c.14.27.23.62.28 1.22.05.62.05 1.41.05 2.55v7.2c0 1.14 0 1.93-.05 2.55-.05.6-.14.95-.28 1.21a3 3 0 0 1-1.3 1.31c-.27.14-.62.23-1.22.28-.62.05-1.41.05-2.55.05H6.4c-1.14 0-1.93 0-2.55-.05-.6-.05-.95-.14-1.21-.28a3 3 0 0 1-1.31-1.3 3.2 3.2 0 0 1-.28-1.22A34.7 34.7 0 0 1 1 13.6V6.4c0-1.14 0-1.93.05-2.55.05-.6.14-.95.28-1.21a3 3 0 0 1 1.3-1.31 3.2 3.2 0 0 1 1.22-.28C4.47 1 5.26 1 6.4 1Z\",\n            stroke: \"currentColor\",\n            strokeWidth: \"2\",\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\"\n        })\n    }));\n};\n\n//# sourceMappingURL=checkbox.js.map","import { _ as _object_spread } from \"@swc/helpers/_/_object_spread\";\nimport { _ as _object_spread_props } from \"@swc/helpers/_/_object_spread_props\";\nimport { _ as _object_without_properties } from \"@swc/helpers/_/_object_without_properties\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { forwardRef } from \"react\";\nimport { classNames } from \"../../../helpers/classNames\";\nimport { VisuallyHidden } from \"../../Service/VisuallyHidden/VisuallyHidden\";\nimport { IconCheckbox } from \"./icons/checkbox\";\nimport { IconCheckboxChecked } from \"./icons/checkbox_checked\";\nimport { IconCheckboxIndeterminate } from \"./icons/checkbox_indeterminate\";\n/**\n * Renders a checkbox input with custom styling and optional indeterminate state.\n * The component visually hides the actual input element for accessibility while providing a custom styled appearance.\n */ export const Checkbox = /*#__PURE__*/ forwardRef((_param, ref)=>{\n    var { style, className, disabled, indeterminate } = _param, restProps = _object_without_properties(_param, [\n        \"style\",\n        \"className\",\n        \"disabled\",\n        \"indeterminate\"\n    ]);\n    return /*#__PURE__*/ _jsxs(\"label\", {\n        className: classNames(\"tgui-abbb25a9ce45033e\", disabled && \"tgui-6e9776e8c33b2626\", className),\n        children: [\n            /*#__PURE__*/ _jsx(VisuallyHidden, _object_spread_props(_object_spread({}, restProps), {\n                ref: ref,\n                Component: \"input\",\n                type: \"checkbox\",\n                className: \"tgui-60cf4cc79ba44c4f\",\n                disabled: disabled\n            })),\n            /*#__PURE__*/ _jsx(IconCheckbox, {\n                className: \"tgui-21b20ecaad17ccf9\",\n                \"aria-hidden\": true\n            }),\n            /*#__PURE__*/ _jsx(\"div\", {\n                \"aria-hidden\": true,\n                className: \"tgui-bca5056bf34297b0\",\n                children: indeterminate ? /*#__PURE__*/ _jsx(IconCheckboxIndeterminate, {}) : /*#__PURE__*/ _jsx(IconCheckboxChecked, {})\n            })\n        ]\n    });\n});\n\n//# sourceMappingURL=Checkbox.js.map","import { _ as _extends } from \"@swc/helpers/_/_extends\";\nimport { _ as _object_destructuring_empty } from \"@swc/helpers/_/_object_destructuring_empty\";\nimport { _ as _object_spread } from \"@swc/helpers/_/_object_spread\";\nimport { _ as _object_spread_props } from \"@swc/helpers/_/_object_spread_props\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport const IconCheckboxChecked = (_param)=>{\n    var restProps = _extends({}, _object_destructuring_empty(_param));\n    return /*#__PURE__*/ _jsxs(\"svg\", _object_spread_props(_object_spread({\n        width: \"20\",\n        height: \"20\",\n        fill: \"none\",\n        xmlns: \"http://www.w3.org/2000/svg\"\n    }, restProps), {\n        children: [\n            /*#__PURE__*/ _jsx(\"path\", {\n                fillRule: \"evenodd\",\n                clipRule: \"evenodd\",\n                d: \"M.48 2.87C0 3.88 0 5.2 0 7.8v4.4c0 2.61 0 3.92.48 4.93a5 5 0 0 0 2.4 2.4c1 .47 2.3.47 4.92.47h4.4c2.61 0 3.92 0 4.93-.48a5 5 0 0 0 2.4-2.4c.47-1 .47-2.3.47-4.92V7.8c0-2.61 0-3.92-.48-4.93a5 5 0 0 0-2.4-2.4C16.13 0 14.83 0 12.2 0H7.8C5.19 0 3.88 0 2.87.48a5 5 0 0 0-2.4 2.4ZM15.7 7.46a1 1 0 0 0-1.42-1.42L8 12.34l-2.3-2.3a1 1 0 1 0-1.4 1.42l3 3a1 1 0 0 0 1.4 0l7-7Z\",\n                fill: \"currentColor\"\n            }),\n            /*#__PURE__*/ _jsx(\"path\", {\n                fillRule: \"evenodd\",\n                clipRule: \"evenodd\",\n                d: \"M15.7 7.46a1 1 0 0 0-1.4-1.42L8 12.34l-2.3-2.3a1 1 0 1 0-1.4 1.42l3 3a1 1 0 0 0 1.4 0l7-7Z\",\n                fill: \"#fff\"\n            })\n        ]\n    }));\n};\n\n//# sourceMappingURL=checkbox_checked.js.map","import { _ as _extends } from \"@swc/helpers/_/_extends\";\nimport { _ as _object_destructuring_empty } from \"@swc/helpers/_/_object_destructuring_empty\";\nimport { _ as _object_spread } from \"@swc/helpers/_/_object_spread\";\nimport { _ as _object_spread_props } from \"@swc/helpers/_/_object_spread_props\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport const IconCheckboxIndeterminate = (_param)=>{\n    var restProps = _extends({}, _object_destructuring_empty(_param));\n    return /*#__PURE__*/ _jsxs(\"svg\", _object_spread_props(_object_spread({\n        width: \"20\",\n        height: \"20\",\n        fill: \"none\",\n        xmlns: \"http://www.w3.org/2000/svg\"\n    }, restProps), {\n        children: [\n            /*#__PURE__*/ _jsx(\"path\", {\n                fillRule: \"evenodd\",\n                clipRule: \"evenodd\",\n                d: \"M6.4 0h7.2c2.24 0 3.36 0 4.22.44a4 4 0 0 1 1.74 1.74c.44.86.44 1.98.44 4.22v7.2c0 2.24 0 3.36-.44 4.22a4 4 0 0 1-1.74 1.74c-.86.44-1.98.44-4.22.44H6.4c-2.24 0-3.36 0-4.22-.44a4 4 0 0 1-1.74-1.74C0 16.96 0 15.84 0 13.6V6.4c0-2.24 0-3.36.44-4.22A4 4 0 0 1 2.18.44C3.04 0 4.16 0 6.4 0ZM4 10a1 1 0 0 1 1-1h10a1 1 0 1 1 0 2H5a1 1 0 0 1-1-1Z\",\n                fill: \"currentColor\"\n            }),\n            /*#__PURE__*/ _jsx(\"path\", {\n                d: \"M4 10a1 1 0 0 1 1-1h10a1 1 0 1 1 0 2H5a1 1 0 0 1-1-1Z\",\n                fill: \"#fff\"\n            })\n        ]\n    }));\n};\n\n//# sourceMappingURL=checkbox_indeterminate.js.map","import { _ as _object_spread } from \"@swc/helpers/_/_object_spread\";\nimport { _ as _object_spread_props } from \"@swc/helpers/_/_object_spread_props\";\nimport { _ as _object_without_properties } from \"@swc/helpers/_/_object_without_properties\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { forwardRef } from \"react\";\nimport { classNames } from \"../../../helpers/classNames\";\nexport const VisuallyHidden = /*#__PURE__*/ forwardRef((_param, ref)=>{\n    var { Component = 'span', className } = _param, restProps = _object_without_properties(_param, [\n        \"Component\",\n        \"className\"\n    ]);\n    return /*#__PURE__*/ _jsx(Component, _object_spread_props(_object_spread({}, restProps), {\n        ref: ref,\n        className: classNames(\"tgui-b9fd8cdf929947df\", className)\n    }));\n});\n\n//# sourceMappingURL=VisuallyHidden.js.map","'use client';\n\nimport { Cell } from '@telegram-apps/telegram-ui';\n\ntype BannerProps = {\n  type?: 'error' | 'info' | 'success' | 'warning';\n  children: React.ReactNode;\n  className?: string;\n};\n\n/**\n * Компонент для отображения баннеров с ошибками, информацией и т.д.\n * Использует Telegram-native стили.\n */\nexport function Banner({ type = 'info', children, className }: BannerProps) {\n  const getColor = () => {\n    switch (type) {\n      case 'error':\n        return 'var(--tg-theme-destructive-text-color, #ff3b30)';\n      case 'warning':\n        return 'var(--tg-theme-hint-color, #ff9500)';\n      case 'success':\n        return 'var(--tg-theme-link-color, #34c759)';\n      default:\n        return 'var(--tg-theme-hint-color, #999999)';\n    }\n  };\n\n  return (\n    <div\n      className={className}\n      style={{\n        padding: '12px 16px',\n        color: getColor(),\n        backgroundColor: 'var(--tg-theme-secondary-bg-color, #f1f1f1)',\n        borderRadius: '8px',\n        margin: '8px 16px',\n        fontSize: '14px',\n        lineHeight: '1.4',\n      }}\n    >\n      {children}\n    </div>\n  );\n}\n\n\n","'use client';\n\ntype PriceProps = {\n  amountKopeks: number;\n  currency?: string;\n  className?: string;\n};\n\n/**\n * Компонент для отображения цены.\n * Форматирует копейки в рубли с двумя знаками после запятой.\n */\nexport function Price({ amountKopeks, currency = 'RUB', className }: PriceProps) {\n  const rub = amountKopeks / 100;\n  const formatted = `${rub.toFixed(2)} ${currency}`;\n\n  return <span className={className}>{formatted}</span>;\n}\n\n\n","'use client';\n\nexport function getInitData(): string | null {\n  if (typeof window === 'undefined') {\n    return null;\n  }\n\n  // Prefer real Telegram WebApp initData if available.\n  const tg = (window as any).Telegram;\n  const initData: string | undefined = tg?.WebApp?.initData;\n\n  if (initData && typeof initData === 'string' && initData.length > 0) {\n    return initData;\n  }\n\n  // Fallback: allow passing initData via search param during local development.\n  const url = new URL(window.location.href);\n  const fromQuery = url.searchParams.get('initData');\n\n  return fromQuery && fromQuery.length > 0 ? fromQuery : null;\n}\n\nexport function openExternal(url: string): void {\n  if (typeof window === 'undefined') {\n    return;\n  }\n\n  try {\n    const tg = (window as any).Telegram;\n    const webApp = tg?.WebApp;\n\n    if (webApp && typeof webApp.openLink === 'function') {\n      webApp.openLink(url);\n      return;\n    }\n  } catch {\n    // Ignore and fallback to window.open.\n  }\n\n  window.open(url, '_blank', 'noopener,noreferrer');\n}\n\n/**\n * Копирует текст в буфер обмена.\n * Использует Telegram WebApp API если доступен, иначе fallback на Clipboard API.\n */\nexport async function copyToClipboard(text: string): Promise<boolean> {\n  if (typeof window === 'undefined') {\n    return false;\n  }\n\n  try {\n    const tg = (window as any).Telegram;\n    const webApp = tg?.WebApp;\n\n    // Telegram WebApp API для копирования\n    if (webApp && typeof webApp.ready === 'function') {\n      webApp.ready();\n      if (typeof webApp.sendData === 'function') {\n        // Используем Clipboard API как fallback, так как Telegram WebApp не имеет прямого метода копирования\n        if (navigator.clipboard && typeof navigator.clipboard.writeText === 'function') {\n          await navigator.clipboard.writeText(text);\n          // Показываем уведомление через Telegram WebApp\n          if (webApp.showAlert) {\n            webApp.showAlert('Текст скопирован в буфер обмена');\n          }\n          return true;\n        }\n      }\n    }\n\n    // Fallback: стандартный Clipboard API\n    if (navigator.clipboard && typeof navigator.clipboard.writeText === 'function') {\n      await navigator.clipboard.writeText(text);\n      return true;\n    }\n\n    // Fallback для старых браузеров\n    const textArea = document.createElement('textarea');\n    textArea.value = text;\n    textArea.style.position = 'fixed';\n    textArea.style.opacity = '0';\n    document.body.appendChild(textArea);\n    textArea.select();\n    document.execCommand('copy');\n    document.body.removeChild(textArea);\n    return true;\n  } catch (error) {\n    console.error('Failed to copy to clipboard:', error);\n    return false;\n  }\n}\n\n/**\n * Открывает Telegram бота поддержки или копирует текст для поддержки.\n */\nexport function openSupport(text?: string): void {\n  if (typeof window === 'undefined') {\n    return;\n  }\n\n  const supportBot = process.env.NEXT_PUBLIC_SUPPORT_BOT_USERNAME || 'support';\n  const supportUrl = `https://t.me/${supportBot}`;\n\n  if (text) {\n    // Копируем текст и открываем бота\n    copyToClipboard(text).then(() => {\n      openExternal(supportUrl);\n    });\n  } else {\n    openExternal(supportUrl);\n  }\n}\n\n\n","import { getInitData } from './tg';\n\ntype ApiOptions = {\n  auth?: boolean;\n  signal?: AbortSignal;\n  idempotencyKey?: string;\n};\n\nasync function handleResponse<T>(res: Response): Promise<T> {\n  const contentType = res.headers.get('Content-Type') ?? '';\n  const isJson = contentType.includes('application/json');\n  const payload = isJson ? await res.json().catch(() => ({})) : await res.text();\n\n  if (!res.ok) {\n    const message =\n      (isJson && (payload as any)?.error) ||\n      (typeof payload === 'string' ? payload : 'Request failed');\n\n    const error = new Error(message);\n    (error as any).status = res.status;\n    (error as any).payload = payload;\n    throw error;\n  }\n\n  return payload as T;\n}\n\nfunction buildHeaders(options?: ApiOptions): HeadersInit {\n  const headers: HeadersInit = {\n    'Content-Type': 'application/json',\n  };\n\n  if (options?.auth) {\n    let initData = getInitData();\n\n    // In E2E / test mode we can provide initData via compile-time env.\n    if (!initData) {\n      const testInitData =\n        process.env.NEXT_PUBLIC_E2E_TG_INIT_DATA ?? process.env.E2E_TG_INIT_DATA;\n      if (typeof testInitData === 'string' && testInitData.length > 0) {\n        initData = testInitData;\n      }\n    }\n\n    if (initData) {\n      (headers as Record<string, string>)['x-telegram-init-data'] = initData;\n    }\n  }\n\n  if (options?.idempotencyKey) {\n    (headers as Record<string, string>)['x-idempotency-key'] = options.idempotencyKey;\n  }\n\n  return headers;\n}\n\nexport async function apiGet<T>(url: string, options?: ApiOptions): Promise<T> {\n  const res = await fetch(url, {\n    method: 'GET',\n    headers: buildHeaders(options),\n    signal: options?.signal,\n  });\n\n  return handleResponse<T>(res);\n}\n\nexport async function apiPost<T>(\n  url: string,\n  body: unknown,\n  options?: ApiOptions,\n): Promise<T> {\n  const res = await fetch(url, {\n    method: 'POST',\n    headers: buildHeaders(options),\n    body: JSON.stringify(body ?? {}),\n    signal: options?.signal,\n  });\n\n  return handleResponse<T>(res);\n}\n\n\n","'use client';\n\nimport { useEffect, useRef, useState } from 'react';\nimport { Button, List, Section, Checkbox, Cell } from '@telegram-apps/telegram-ui';\nimport { useRouter } from 'next/navigation';\n\nimport { Page } from '@/components/Page';\nimport { AppShell } from '@/components/AppShell';\nimport { Banner } from '@/components/Banner';\nimport { Price } from '@/components/Price';\nimport { Link } from '@/components/Link/Link';\nimport { apiGet, apiPost } from '@/lib/api';\nimport { clear, getCart } from '@/lib/cart';\nimport { useCart } from '@/lib/useCart';\nimport { openExternal } from '@/lib/tg';\n\ntype ProductDto = {\n  id: number;\n  title: string;\n  priceKopeks: number;\n  currency: string;\n};\n\ntype CreateOrderResponse = {\n  orderId: number;\n  paymentUrl: string;\n  amountKopeks: number;\n  currency: string;\n};\n\nexport default function CheckoutPage() {\n  const router = useRouter();\n  const { cart } = useCart();\n  const [total, setTotal] = useState(0);\n  const [currency, setCurrency] = useState('RUB');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [submitError, setSubmitError] = useState<string | null>(null);\n  const [createdOrderId, setCreatedOrderId] = useState<number | null>(null);\n  const [createdPaymentUrl, setCreatedPaymentUrl] = useState<string | null>(null);\n  const [agreedToOferta, setAgreedToOferta] = useState(false);\n  const openedRef = useRef(false);\n\n  useEffect(() => {\n    const stored = getCart();\n    if (stored.length === 0) {\n      router.replace('/cart');\n      return;\n    }\n\n    (async () => {\n      try {\n        const all = await apiGet<ProductDto[]>('/api/products');\n        let sum = 0;\n        let cur = 'RUB';\n        for (const item of stored) {\n          const product = all.find((p) => p.id === item.productId);\n          if (!product) continue;\n          sum += product.priceKopeks * item.qty;\n          cur = product.currency;\n        }\n        setTotal(sum);\n        setCurrency(cur);\n      } catch (e) {\n        console.error(e);\n        setSubmitError('Не удалось проверить корзину');\n      }\n    })();\n  }, [router]);\n\n  const handleCreateOrder = async () => {\n    if (isSubmitting) {\n      return;\n    }\n\n    if (!cart.length) {\n      setSubmitError('Корзина пуста. Добавьте товары перед оформлением заказа.');\n      return;\n    }\n\n    if (!agreedToOferta) {\n      setSubmitError('Необходимо согласиться с условиями публичной оферты.');\n      return;\n    }\n\n    setIsSubmitting(true);\n    setSubmitError(null);\n\n    try {\n      const idempotencyKey =\n        (typeof window !== 'undefined' && window.crypto?.randomUUID\n          ? window.crypto.randomUUID()\n          : `${Date.now()}-${Math.random().toString(16).slice(2)}`);\n\n      const response = await apiPost<CreateOrderResponse>(\n        '/api/orders',\n        {\n          items: cart.map((item) => ({\n            productId: item.productId,\n            qty: item.qty,\n          })),\n        },\n        { auth: true, idempotencyKey },\n      );\n\n      clear();\n\n      setCreatedOrderId(response.orderId);\n      setCreatedPaymentUrl(response.paymentUrl ?? null);\n\n      if (response.paymentUrl && !openedRef.current) {\n        openedRef.current = true;\n        openExternal(response.paymentUrl);\n      }\n\n      router.push(`/orders/${response.orderId}`);\n    } catch (e: any) {\n      console.error(e);\n      const status = e?.status as number | undefined;\n\n      if (status === 401 || status === 403) {\n        setSubmitError(\n          'Не удалось подтвердить авторизацию в Telegram. Откройте мини‑приложение из Telegram и попробуйте ещё раз.',\n        );\n      } else if (status && status >= 500) {\n        setSubmitError('Сервис временно недоступен. Попробуйте позже.');\n      } else {\n        setSubmitError(e?.message ?? 'Ошибка при создании заказа');\n      }\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const stickyBottom = (\n    <div>\n      {total > 0 && (\n        <div style={{ marginBottom: 12, fontSize: 18, fontWeight: 600 }}>\n          Сумма к оплате: <Price amountKopeks={total} currency={currency} />\n        </div>\n      )}\n      {createdOrderId ? (\n        createdPaymentUrl ? (\n          <Button\n            size=\"m\"\n            mode=\"filled\"\n            stretched\n            onClick={() => openExternal(createdPaymentUrl)}\n          >\n            Открыть оплату ещё раз\n          </Button>\n        ) : (\n          <Banner type=\"info\" className=\"app-shell__sticky-bottom-banner\">\n            Заказ создан. Если окно оплаты не открылось, проверьте статус заказа.\n          </Banner>\n        )\n      ) : (\n        <Button\n          size=\"m\"\n          mode=\"filled\"\n          stretched\n          loading={isSubmitting}\n          disabled={isSubmitting || !agreedToOferta}\n          onClick={handleCreateOrder}\n        >\n          {isSubmitting ? 'Создаём заказ…' : 'Создать заказ'}\n        </Button>\n      )}\n    </div>\n  );\n\n  return (\n    <Page>\n      <AppShell title=\"Оформление заказа\" stickyBottom={stickyBottom}>\n        <List>\n          <Section header=\"Детали заказа\">\n            {submitError && (\n              <Banner type=\"error\">{submitError}</Banner>\n            )}\n\n            {createdOrderId && !createdPaymentUrl && (\n              <Banner type=\"success\">\n                Заказ №{createdOrderId} создан. Ожидайте открытия окна оплаты.\n              </Banner>\n            )}\n          </Section>\n\n          <Section>\n            <Cell\n              before={\n                <Checkbox\n                  checked={agreedToOferta}\n                  onChange={(e) => {\n                    const target = e.target as HTMLInputElement;\n                    setAgreedToOferta(target.checked);\n                  }}\n                />\n              }\n              after={\n                <Link href=\"/oferta\" style={{ fontSize: '12px', color: 'var(--tg-theme-link-color, #2481cc)' }}>\n                  Прочитать\n                </Link>\n              }\n              onClick={() => setAgreedToOferta(!agreedToOferta)}\n            >\n              Я согласен с условиями{' '}\n              <Link href=\"/oferta\" style={{ color: 'var(--tg-theme-link-color, #2481cc)' }}>\n                публичной оферты\n              </Link>\n            </Cell>\n          </Section>\n        </List>\n      </AppShell>\n    </Page>\n  );\n}\n\n\n"],"names":["module","exports","require","vendored","AppRouterContext","HooksClientContext","ServerInsertedHtml"],"mappings":"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","ignoreList":[0,1,2,3,4,5,6,7,8,9]}
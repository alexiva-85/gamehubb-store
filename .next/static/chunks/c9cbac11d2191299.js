(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,87246,e=>{"use strict";var t=e.i(3008);function i({width:e,height:i,className:r,variant:n="text"}){let l={};return e&&(l.width="number"==typeof e?`${e}px`:e),i&&(l.height="number"==typeof i?`${i}px`:i),"circular"===n&&(l.borderRadius="50%"),(0,t.jsx)("div",{className:`${"text"===n?"skeleton skeleton-text":"card"===n?"skeleton skeleton-card":"skeleton"} ${r||""}`,style:l})}e.s(["Skeleton",()=>i])},22505,e=>{"use strict";var t=e.i(3008),i=e.i(21453);e.i(37181);var r=e.i(28463),n=e.i(81304),l=e.i(39911),s=e.i(49830),a=e.i(4977),c=e.i(79317),o=e.i(27808);function d({id:e,title:i,description:r,priceKopeks:n,currency:l="RUB",imageUrl:s,available:d=!0,onAdd:u,className:p}){return(0,t.jsx)(c.Cell,{className:p,subtitle:r?(0,t.jsx)("div",{style:{marginTop:"4px",fontSize:"14px",opacity:.7},children:r}):void 0,after:u?(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:4},children:[(0,t.jsx)(o.Price,{amountKopeks:n,currency:l}),(0,t.jsx)(a.Button,{size:"s",mode:"bezeled",onClick:()=>u(e),disabled:!d,children:"Добавить"})]}):(0,t.jsx)(o.Price,{amountKopeks:n,currency:l}),children:i})}var u=e.i(57512),p=e.i(87246),x=e.i(9165),h=e.i(20437);function j(){let[e,a]=(0,i.useState)([]),[c,o]=(0,i.useState)(!0),[j,m]=(0,i.useState)(null);(0,i.useEffect)(()=>{let e=!1;return(async()=>{try{let t=await (0,x.apiGet)("/api/products");e||(a(t),m(null))}catch(t){console.error(t),e||m("Не удалось загрузить каталог")}finally{e||o(!1)}})(),()=>{e=!0}},[]);let y=(0,i.useMemo)(()=>e.length>0,[e]),f=e=>{(0,h.addToCart)(e,1)};return(0,t.jsx)(l.Page,{children:(0,t.jsx)(s.AppShell,{title:"Каталог",showBottomNav:!0,children:(0,t.jsx)(r.List,{children:(0,t.jsxs)(n.Section,{header:"Товары",children:[c&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(p.Skeleton,{variant:"card"}),(0,t.jsx)(p.Skeleton,{variant:"card"}),(0,t.jsx)(p.Skeleton,{variant:"card"})]}),!c&&j&&(0,t.jsx)(u.Banner,{type:"error",children:j}),!c&&!j&&!y&&(0,t.jsx)(u.Banner,{type:"info",children:"Список товаров пуст."}),!c&&!j&&y&&e.map(e=>(0,t.jsx)(d,{id:e.id,title:e.title,description:e.description,priceKopeks:e.priceKopeks,currency:e.currency,imageUrl:e.imageUrl,available:e.available,onAdd:f},e.id))]})})})})}e.s(["default",()=>j],22505)}]);